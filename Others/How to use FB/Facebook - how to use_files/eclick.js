(function(w){function ya(b){var a=function(a,c){return a<<c|a>>>32-c},c=function(a){var c="",d,b;for(d=7;0<=d;d--)b=a>>>4*d&15,c+=b.toString(16);return c},d,e,f=[],g=1732584193,k=4023233417,h=2562383102,n=271733878,y=3285377520,l,r,q,t,m,u=[];b=unescape(w.encodeURIComponent(b));l=b.length;for(d=0;d<l-3;d+=4)e=b.charCodeAt(d)<<24|b.charCodeAt(d+1)<<16|b.charCodeAt(d+2)<<8|b.charCodeAt(d+3),u.push(e);switch(l&3){case 0:d=2147483648;break;case 1:d=b.charCodeAt(l-1)<<24|8388608;break;case 2:d=b.charCodeAt(l-
2)<<24|b.charCodeAt(l-1)<<16|32768;break;case 3:d=b.charCodeAt(l-3)<<24|b.charCodeAt(l-2)<<16|b.charCodeAt(l-1)<<8|128}for(u.push(d);14!==(u.length&15);)u.push(0);u.push(l>>>29);u.push(l<<3&4294967295);for(b=0;b<u.length;b+=16){for(d=0;16>d;d++)f[d]=u[b+d];for(d=16;79>=d;d++)f[d]=a(f[d-3]^f[d-8]^f[d-14]^f[d-16],1);e=g;l=k;r=h;q=n;t=y;for(d=0;19>=d;d++)m=a(e,5)+(l&r|~l&q)+t+f[d]+1518500249&4294967295,t=q,q=r,r=a(l,30),l=e,e=m;for(d=20;39>=d;d++)m=a(e,5)+(l^r^q)+t+f[d]+1859775393&4294967295,t=q,q=r,
r=a(l,30),l=e,e=m;for(d=40;59>=d;d++)m=a(e,5)+(l&r|l&q|r&q)+t+f[d]+2400959708&4294967295,t=q,q=r,r=a(l,30),l=e,e=m;for(d=60;79>=d;d++)m=a(e,5)+(l^r^q)+t+f[d]+3395469782&4294967295,t=q,q=r,r=a(l,30),l=e,e=m;g=g+e&4294967295;k=k+l&4294967295;h=h+r&4294967295;n=n+q&4294967295;y=y+t&4294967295}m=c(g)+c(k)+c(h)+c(n)+c(y);return m.toLowerCase()}function za(b){var a=document.createElement("link");a.setAttribute("rel","stylesheet");a.setAttribute("type","text/css");a.setAttribute("href",b);document.getElementsByTagName("head")[0].appendChild(a)}
function T(b,a){var c=!1,d=!0,e=b.document,f=e.documentElement,g=e.addEventListener?"addEventListener":"attachEvent",k=e.addEventListener?"removeEventListener":"detachEvent",h=e.addEventListener?"":"on",n=function(d){if("readystatechange"!=d.type||"complete"==e.readyState)("load"==d.type?b:e)[k](h+d.type,n,!1),!c&&(c=!0)&&a.call(b,d.type||d)},y=function(){try{f.doScroll("left")}catch(a){setTimeout(y,50);return}n("poll")};if("complete"==e.readyState)a.call(b,"lazy");else{if(e.createEventObject&&f.doScroll){try{d=
!b.frameElement}catch(l){}d&&y()}e[g](h+"DOMContentLoaded",n,!1);e[g](h+"readystatechange",n,!1);b[g](h+"load",n,!1)}}function N(b,a,c){b.addEventListener?b.addEventListener(a,c,!1):b.attachEvent?b.attachEvent("on"+a,c):b["on"+a]=c}function Aa(b,a,c){b.addEventListener?b.removeEventListener(a,c,!1):b.detachEvent?b.detachEvent("on"+a,c):b["on"+a]=null}function Ba(){var b=document.body,a=document.createElement("div");a.style.paddingLeft=a.style.width="1px";b.appendChild(a);var c=2==a.offsetWidth;b.removeChild(a);
return c}function ha(b){var a=document.body,c=document.documentElement;b=b.getBoundingClientRect();var d=ia();return{top:b.top+d.top-(c.clientTop||a.clientTop||0),left:b.left+d.left-(c.clientLeft||a.clientLeft||0)}}function ia(){return{left:void 0!==w.pageXOffset?w.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,top:void 0!==w.pageYOffset?w.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}}function O(b,a){0<=(" "+
b.className+" ").indexOf(" "+a+" ")||(b.className+=" "+a)}function P(b,a){b.className=(" "+b.className+" ").split(" "+a+" ").join(" ").replace(/\s{2,}/g," ")}function H(b){}function ja(b){var a=new Date(b.getFullYear(),0,1);return Math.ceil(((b-a)/864E5+a.getDay()+1)/7)}function Q(b,a){var c=new Image(1,1);c.onload=a;c.src=b;H("log sent",b)}function Ca(b,a,c){if(document.querySelectorAll)return a=(a?a:"")+("["+b),a="undefined"===typeof c?a+"]":a+('="'+c+'"]'),document.querySelectorAll(a);a=a?document.getElementsByTagName(a):
document.all;var d=[];if("undefined"===typeof c)return p.forEach(a,function(a){a.getAttribute(b)&&d.push(a)}),d;p.forEach(a,function(a){a.getAttribute(b)==c&&d.push(a)});return d}function ka(b,a){function c(){if(d)b.apply(a,arguments);else return e.push(arguments),!1}var d=!1,e=[];c.setReady=function(){d=!0;for(var c=0,g=e.length;c<g;++c)b.apply(a,e[c])};return c}function la(b,a){var c=this,d=0!==b.indexOf([x.location.protocol,x.location.host].join("//"));this.updating=!1;this.abort=function(){c.updating&&
(c.updating=!1,c.AJAX.abort(),c.AJAX=null)};this.send=function(a,f){if(c.updating)return!1;c.AJAX=null;c.AJAX=w.XMLHttpRequest?d&&x.XDomainRequest?new XDomainRequest:new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");if(null==c.AJAX)return!1;c.AJAX.onreadystatechange=c.AJAX.onload=function(){!c.AJAX||"undefined"!==typeof c.AJAX.readyState&&4!=c.AJAX.readyState||(c.updating=!1,c.callback(c.AJAX.responseText,c.AJAX.status,c.AJAX.responseXML),c.AJAX=null)};c.updating=new Date;var g,k="";a=a||
{};for(g in a)a.hasOwnProperty(g)&&(k+=encodeURIComponent(g)+"="+encodeURIComponent(a[g])+"&");/post/i.test(f)?(g=b+"?"+c.updating.getTime(),c.AJAX.open("POST",g,!0),c.AJAX.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.AJAX.setRequestHeader("Content-Length",k.length),c.AJAX.send(k)):(g=b+"?"+k+"ord="+c.updating.getTime(),c.AJAX.open("GET",g,!0),c.AJAX.send(null));return!0};this.callback=a||ma}if(w.eClick)console.log("nothing to do here");else{w.Modernizr=function(b,a,c){function d(a,
d){for(var b in a){var e=a[b];if(!~(""+e).indexOf("-")&&h[e]!==c)return"pfx"==d?e:!0}return!1}function e(a,b,e){var m=a.charAt(0).toUpperCase()+a.slice(1),f=(a+" "+n.join(m+" ")+m).split(" ");if("string"===typeof b||"undefined"===typeof b)b=d(f,b);else a:{f=(a+" "+y.join(m+" ")+m).split(" "),a=f;for(var g in a)if(m=b[a[g]],m!==c){b=!1===e?a[g]:"function"===typeof m?m.bind(e||b):m;break a}b=!1}return b}var f={},g=a.documentElement,k=a.createElement("modernizr"),h=k.style,n=["Webkit","Moz","O","ms"],
y=["webkit","moz","o","ms"],k={};b=[];var l=b.slice,r,q=function(c,d,b,e){var m,f,h,k,r=a.createElement("div"),u=a.body,l=u||a.createElement("body");if(parseInt(b,10))for(;b--;)h=a.createElement("div"),h.id=e?e[b]:"modernizr"+(b+1),r.appendChild(h);return m=['&#173;<style id="smodernizr">',c,"</style>"].join(""),r.id="modernizr",(u?r:l).innerHTML+=m,l.appendChild(r),u||(l.style.background="",l.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(l)),f=d(r,c),u?r.parentNode.removeChild(r):
(l.parentNode.removeChild(l),g.style.overflow=k),!!f},t={}.hasOwnProperty,m;"undefined"===typeof t||"undefined"===typeof t.call?m=function(a,c){return c in a&&"undefined"===typeof a.constructor.prototype[c]}:m=function(a,c){return t.call(a,c)};Function.prototype.bind||(Function.prototype.bind=function(a){var c=this;if("function"!=typeof c)throw new TypeError;var d=l.call(arguments,1),b=function(){if(this instanceof b){var e=function(){};e.prototype=c.prototype;var e=new e,m=c.apply(e,d.concat(l.call(arguments)));
return Object(m)===m?m:e}return c.apply(a,d.concat(l.call(arguments)))};return b});k.csstransforms=function(){return!!e("transform")};k.csstransforms3d=function(){var a=!!e("perspective");return a&&"webkitPerspective"in g.style&&q("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(c,d){a=9===c.offsetLeft&&3===c.offsetHeight}),a};k.csstransitions=function(){return e("transition")};for(var u in k)m(k,u)&&(r=u.toLowerCase(),f[r]=k[u](),b.push((f[r]?
"":"no-")+r));f.addTest=function(a,d){if("object"==typeof a)for(var b in a)m(a,b)&&f.addTest(b,a[b]);else{a=a.toLowerCase();if(f[a]!==c)return f;d="function"==typeof d?d():d;g.className+=" "+(d?"":"no-")+a;f[a]=d}return f};h.cssText="";return k=null,function(a,c){function d(){var a=t.elements;return"string"==typeof a?a.split(" "):a}function b(a){var c=l[a[u]];return c||(c={},aa++,a[u]=aa,l[aa]=c),c}function e(a,d,m){d||(d=c);if(n)return d.createElement(a);m||(m=b(d));var f;return m.cache[a]?f=m.cache[a].cloneNode():
k.test(a)?f=(m.cache[a]=m.createElem(a)).cloneNode():f=m.createElem(a),f.canHaveChildren&&!g.test(a)?m.frag.appendChild(f):f}function m(a,c){c.cache||(c.cache={},c.createElem=a.createElement,c.createFrag=a.createDocumentFragment,c.frag=c.createFrag());a.createElement=function(d){return t.shivMethods?e(d,a,c):c.createElem(d)};a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+d().join().replace(/\w+/g,function(a){return c.createElem(a),
c.frag.createElement(a),'c("'+a+'")'})+");return n}")(t,c.frag)}function f(a){a||(a=c);var d=b(a);if(t.shivCSS&&!r&&!d.hasCSS){var e,h=a;e=h.createElement("p");h=h.getElementsByTagName("head")[0]||h.documentElement;e=(e.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}</style>",h.insertBefore(e.lastChild,h.firstChild));d.hasCSS=!!e}return n||m(a,d),a}var h=a.html5||{},g=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,
k=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,r,u="_html5shiv",aa=0,l={},n;(function(){try{var a=c.createElement("a");a.innerHTML="<xyz></xyz>";r="hidden"in a;var d;if(!(d=1==a.childNodes.length)){c.createElement("a");var b=c.createDocumentFragment();d="undefined"==typeof b.cloneNode||"undefined"==typeof b.createDocumentFragment||"undefined"==typeof b.createElement}n=d}catch(e){n=r=!0}})();var t={elements:h.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",
shivCSS:!1!==h.shivCSS,supportsUnknownElements:n,shivMethods:!1!==h.shivMethods,type:"default",shivDocument:f,createElement:e,createDocumentFragment:function(a,e){a||(a=c);if(n)return a.createDocumentFragment();e=e||b(a);for(var m=e.frag.cloneNode(),f=0,h=d(),g=h.length;f<g;f++)m.createElement(h[f]);return m}};a.html5=t;f(c)}(this,a),f._version="2.6.2",f._prefixes=" -webkit- -moz- -o- -ms- ".split(" "),f._domPrefixes=y,f._cssomPrefixes=n,f.testProp=function(a){return d([a])},f.testAllProps=e,f.testStyles=
q,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+b.join(" ")),f}(this,this.document);(function(b,a,c){function d(a){return"[object Function]"==t.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function k(){var a=m.shift();u=1;a?a.t?r(function(){("c"==a.t?J.injectCss:J.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),k()):u=0}function h(c,d,b,e,f,h,l){function n(a){if(!y&&g(t.readyState)&&(A.r=y=1,!u&&k(),
t.onload=t.onreadystatechange=null,a)){"img"!=c&&r(function(){p.removeChild(t)},50);for(var b in v[d])v[d].hasOwnProperty(b)&&v[d][b].onload()}}l=l||J.errorTimeout;var t=a.createElement(c),y=0,s=0,A={t:b,s:d,e:f,a:h,x:l};1===v[d]&&(s=1,v[d]=[]);"object"==c?t.data=d:(t.src=d,t.type=c);t.width=t.height="0";t.onerror=t.onload=t.onreadystatechange=function(){n.call(this,s)};m.splice(e,0,A);"img"!=c&&(s||2===v[d]?(p.insertBefore(t,G?null:q),r(n,l)):v[d].push(t))}function n(a,c,d,b,f){return u=0,c=c||"j",
e(a)?h("c"==c?w:s,a,c,this.i++,d,b,f):(m.splice(this.i++,0,a),1==m.length&&k()),this}function y(){var a=J;return a.loader={load:n,i:0},a}var l=a.documentElement,r=b.setTimeout,q=a.getElementsByTagName("script")[0],t={}.toString,m=[],u=0,A="MozAppearance"in l.style,G=A&&!!a.createRange().compareNode,p=G?l:q.parentNode,l=b.opera&&"[object Opera]"==t.call(b.opera),l=!!a.attachEvent&&!l,s=A?"object":l?"script":"img",w=l?"script":s,B=Array.isArray||function(a){return"[object Array]"==t.call(a)},D=[],v=
{},x={timeout:function(a,c){return c.length&&(a.timeout=c[0]),a}},z,J;J=function(a){function b(a){a=a.split("!");var c=D.length,d=a.pop(),e=a.length,d={url:d,origUrl:d,prefixes:a},m,f,h;for(f=0;f<e;f++)h=a[f].split("="),(m=x[h.shift()])&&(d=m(d,h));for(f=0;f<c;f++)d=D[f](d);return d}function m(a,e,f,h,g){var k=b(a),r=k.autoCallback;k.url.split(".").pop().split("?").shift();k.bypass||(e&&(e=d(e)?e:e[a]||e[h]||e[a.split("/").pop().split("?")[0]]),k.instead?k.instead(a,e,f,h,g):(v[k.url]?k.noexec=!0:
v[k.url]=1,f.load(k.url,k.forceCSS||!k.forceJS&&"css"==k.url.split(".").pop().split("?").shift()?"c":c,k.noexec,k.attrs,k.timeout),(d(e)||d(r))&&f.load(function(){y();e&&e(k.origUrl,g,h);r&&r(k.origUrl,g,h);v[k.url]=2})))}function h(a,c){function b(a,f){if(a)if(e(a))f||(r=function(){var a=[].slice.call(arguments);u.apply(this,a);l()}),m(a,r,c,0,k);else{if(Object(a)===a)for(n in t=function(){var c=0,d;for(d in a)a.hasOwnProperty(d)&&c++;return c}(),a)a.hasOwnProperty(n)&&(!f&&!--t&&(d(r)?r=function(){var a=
[].slice.call(arguments);u.apply(this,a);l()}:r[n]=function(a){return function(){var c=[].slice.call(arguments);a&&a.apply(this,c);l()}}(u[n])),m(a[n],r,c,n,k))}else!f&&l()}var k=!!a.test,g=a.load||a.both,r=a.callback||f,u=r,l=a.complete||f,t,n;b(k?a.yep:a.nope,!!g);g&&b(g)}var g,k,r=this.yepnope.loader;if(e(a))m(a,0,r,0);else if(B(a))for(g=0;g<a.length;g++)k=a[g],e(k)?m(k,0,r,0):B(k)?J(k):Object(k)===k&&h(k,r);else Object(a)===a&&h(a,r)};J.addPrefix=function(a,c){x[a]=c};J.addFilter=function(a){D.push(a)};
J.errorTimeout=1E4;null==a.readyState&&a.addEventListener&&(a.readyState="loading",a.addEventListener("DOMContentLoaded",z=function(){a.removeEventListener("DOMContentLoaded",z,0);a.readyState="complete"},0));b.yepnope=y();b.yepnope.executeStack=k;b.yepnope.injectJs=function(c,d,b,e,m,h){var l=a.createElement("script"),u,t;e=e||J.errorTimeout;l.src=c;for(t in b)l.setAttribute(t,b[t]);d=h?k:d||f;l.onreadystatechange=l.onload=function(){!u&&g(l.readyState)&&(u=1,d(),l.onload=l.onreadystatechange=null)};
r(function(){u||(u=1,d(1))},e);m?l.onload():q.parentNode.insertBefore(l,q)};b.yepnope.injectCss=function(c,d,b,e,m,h){e=a.createElement("link");var g;d=h?k:d||f;e.href=c;e.rel="stylesheet";e.type="text/css";for(g in b)e.setAttribute(g,b[g]);m||(q.parentNode.insertBefore(e,q),r(d,0))}})(this,document);Modernizr.load=function(){yepnope.apply(w,[].slice.call(arguments,0))};(function(){function b(){var a={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=/&(?!#?\w+;)|<|>|"|'|\//g;
return function(d){return d?d.toString().replace(c,function(c){return a[c]||c}):d}}function a(c,d,b){return("string"===typeof d?d:d.toString()).replace(c.define||k,function(a,c,d,e){0===c.indexOf("def.")&&(c=c.substring(4));c in b||(":"===d?b[c]=e:eval("def['"+c+"']="+e));return""}).replace(c.use||k,function(d,e){var f=eval(e);return f?a(c,f,b):f})}function c(a){return a.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var d={version:"0.2.0",templateSettings:{evaluate:/\{\{([\s\S]+?)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,
encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1},template:void 0,compile:void 0},e=function(){return this||(0,eval)("this")}();"undefined"!==typeof module&&module.exports?module.exports=d:"function"===typeof define&&define.amd?define(function(){return d}):e.doT=
d;e.encodeHTML=b();var f={start:"'+(",end:")+'",startencode:"'+encodeHTML("},g={start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("},k=/$^/;d.template=function(h,n,y){n=n||d.templateSettings;var l=n.append?f:g,r,q=0,t;if(n.use||n.define){var m=e.def;e.def=y||{};h=a(n,h,e.def);e.def=m}h=("var out='"+(n.strip?h.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):h).replace(/'|\\/g,"\\$&").replace(n.interpolate||k,function(a,d){return l.start+c(d)+l.end}).replace(n.encode||
k,function(a,d){r=!0;return l.startencode+c(d)+l.end}).replace(n.conditional||k,function(a,d,b){return d?b?"';}else if("+c(b)+"){out+='":"';}else{out+='":b?"';if("+c(b)+"){out+='":"';}out+='"}).replace(n.iterate||k,function(a,d,b,e){if(!d)return"';} } out+='";q+=1;t=e||"i"+q;d=c(d);return"';var arr"+q+"="+d+";if(arr"+q+"){var "+b+","+t+"=-1,l"+q+"=arr"+q+".length-1;while("+t+"<l"+q+"){"+b+"=arr"+q+"["+t+"+=1];out+='"}).replace(n.evaluate||k,function(a,d){return"';"+c(d)+"out+='"})+"';return out;").replace(/\n/g,
"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|}|^|{)out\+='';/g,"$1").replace(/\+''/g,"").replace(/(\s|;|}|^|{)out\+=''\+/g,"$1out+=");r&&n.selfcontained&&(h="var encodeHTML=("+b.toString()+"());"+h);try{return new Function(n.varname,h)}catch(u){throw"undefined"!==typeof console&&console.log("Could not create a template function: "+h),u;}};d.compile=function(a,c){return d.template(a,null,c)}})();(function(){function b(b){var f,m,k,g="json"==b;if(g||"json-stringify"==b||"json-parse"==
b){if("json-stringify"==b||g){if(f="function"==typeof h.stringify&&B){(k=function(){return 1}).toJSON=k;try{f="0"===h.stringify(0)&&"0"===h.stringify(new Number)&&'""'==h.stringify(new String)&&h.stringify(e)===a&&h.stringify(a)===a&&h.stringify()===a&&"1"===h.stringify(k)&&"[1]"==h.stringify([k])&&"[null]"==h.stringify([a])&&"null"==h.stringify(d)&&"[null,null,null]"==h.stringify([a,e,d])&&'{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==h.stringify({A:[k,c,!1,d,"\x00\b\n\f\r\t"]})&&"1"===h.stringify(d,
k)&&"[\n 1,\n 2\n]"==h.stringify([1,2],d,1)&&'"-271821-04-20T00:00:00.000Z"'==h.stringify(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==h.stringify(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==h.stringify(new Date(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==h.stringify(new Date(-1))}catch(r){f=!1}}if(!g)return f}if("json-parse"==b||g){if("function"==typeof h.parse)try{if(0===h.parse("0")&&!h.parse(!1)&&(k=h.parse('{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'),m=5==k.a.length&&
1==k.a[0])){try{m=!h.parse('"\t"')}catch(l){}if(m)try{m=1!=h.parse("01")}catch(u){}}}catch(t){m=!1}if(!g)return m}return f&&m}}var a=void 0,c=!0,d=null,e={}.toString,f,g,k="function"===typeof define&&define.c,h=!k&&"object"==typeof U&&U;h||k?"object"==typeof JSON&&JSON?k?h=JSON:(h.stringify=JSON.stringify,h.parse=JSON.parse):k&&(h=this.JSON={}):h=this.JSON||(this.JSON={});var n,y,l,r,q,t,m,u,A,p,v,s,w,B=new Date(-0xc782b5b800cec),D,x,z;try{B=-109252==B.getUTCFullYear()&&0===B.getUTCMonth()&&1==B.getUTCDate()&&
10==B.getUTCHours()&&37==B.getUTCMinutes()&&6==B.getUTCSeconds()&&708==B.getUTCMilliseconds()}catch(C){}b("json")||(B||(D=Math.floor,x=[0,31,59,90,120,151,181,212,243,273,304,334],z=function(a,c){return x[c]+365*(a-1970)+D((a-1969+(c=+(1<c)))/4)-D((a-1901+c)/100)+D((a-1601+c)/400)}),(f={}.hasOwnProperty)||(f=function(a){var c={},b;(c.__proto__=d,c.__proto__={toString:1},c).toString!=e?f=function(a){var c=this.__proto__;a=a in(this.__proto__=d,this);this.__proto__=c;return a}:(b=c.constructor,f=function(a){var c=
(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])});c=d;return f.call(this,a)}),g=function(a,c){var b=0,m,k,g;(m=function(){this.valueOf=0}).prototype.valueOf=0;k=new m;for(g in k)f.call(k,g)&&b++;m=k=d;b?b=2==b?function(a,c){var d={},b="[object Function]"==e.call(a),m;for(m in a)b&&"prototype"==m||f.call(d,m)||(d[m]=1,!f.call(a,m)||c(m))}:function(a,c){var d="[object Function]"==e.call(a),b,m;for(b in a)d&&"prototype"==b||!f.call(a,b)||(m="constructor"===b)||c(b);(m||f.call(a,
b="constructor"))&&c(b)}:(k="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),b=function(a,c){var d="[object Function]"==e.call(a),b;for(b in a)d&&"prototype"==b||!f.call(a,b)||c(b);for(d=k.length;b=k[--d];f.call(a,b)&&c(b));});b(a,c)},b("json-stringify")||(n={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},y=function(a,c){return("000000"+(c||0)).slice(-a)},l=function(a){for(var c='"',d=0,b;b=a.charAt(d);d++)c+=
-1<'\\"\b\f\n\r\t'.indexOf(b)?n[b]:n[b]=" ">b?"\\u00"+y(2,b.charCodeAt(0).toString(16)):b;return c+'"'},r=function(b,m,k,h,u,t,n){var q=m[b],s,p,A,G,B,v,w,x,S;if("object"==typeof q&&q)if(s=e.call(q),"[object Date]"!=s||f.call(q,"toJSON"))"function"==typeof q.toJSON&&("[object Number]"!=s&&"[object String]"!=s&&"[object Array]"!=s||f.call(q,"toJSON"))&&(q=q.toJSON(b));else if(q>-1/0&&q<1/0){if(z){A=D(q/864E5);for(s=D(A/365.2425)+1970-1;z(s+1,0)<=A;s++);for(p=D((A-z(s,0))/30.42);z(s,p+1)<=A;p++);A=
1+A-z(s,p);G=(q%864E5+864E5)%864E5;B=D(G/36E5)%24;v=D(G/6E4)%60;w=D(G/1E3)%60;G%=1E3}else s=q.getUTCFullYear(),p=q.getUTCMonth(),A=q.getUTCDate(),B=q.getUTCHours(),v=q.getUTCMinutes(),w=q.getUTCSeconds(),G=q.getUTCMilliseconds();q=(0>=s||1E4<=s?(0>s?"-":"+")+y(6,0>s?-s:s):y(4,s))+"-"+y(2,p+1)+"-"+y(2,A)+"T"+y(2,B)+":"+y(2,v)+":"+y(2,w)+"."+y(3,G)+"Z"}else q=d;k&&(q=k.call(m,b,q));if(q===d)return"null";s=e.call(q);if("[object Boolean]"==s)return""+q;if("[object Number]"==s)return q>-1/0&&q<1/0?""+
q:"null";if("[object String]"==s)return l(q);if("object"==typeof q){for(b=n.length;b--;)if(n[b]===q)throw TypeError();n.push(q);x=[];m=t;t+=u;if("[object Array]"==s){p=0;for(b=q.length;p<b;S||(S=c),p++)s=r(p,q,k,h,u,t,n),x.push(s===a?"null":s);b=S?u?"[\n"+t+x.join(",\n"+t)+"\n"+m+"]":"["+x.join(",")+"]":"[]"}else g(h||q,function(d){var b=r(d,q,k,h,u,t,n);b!==a&&x.push(l(d)+":"+(u?" ":"")+b);S||(S=c)}),b=S?u?"{\n"+t+x.join(",\n"+t)+"\n"+m+"}":"{"+x.join(",")+"}":"{}";n.pop();return b}},h.stringify=
function(a,c,d){var b,m,f,k,g,h;if("function"==typeof c||"object"==typeof c&&c)if("[object Function]"==e.call(c))m=c;else if("[object Array]"==e.call(c))for(f={},k=0,g=c.length;k<g;h=c[k++],("[object String]"==e.call(h)||"[object Number]"==e.call(h))&&(f[h]=1));if(d)if("[object Number]"==e.call(d)){if(0<(d-=d%1))for(b="",10<d&&(d=10);b.length<d;b+=" ");}else"[object String]"==e.call(d)&&(b=10>=d.length?d:d.slice(0,10));return r("",(h={},h[""]=a,h),m,f,b,"",[])}),b("json-parse")||(q=String.fromCharCode,
t={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"\t",n:"\n",f:"\f",r:"\r"},m=function(){s=w=d;throw SyntaxError();},u=function(){for(var a=w,b=a.length,e,f,k,h,g;s<b;)if(e=a.charAt(s),-1<"\t\r\n ".indexOf(e))s++;else{if(-1<"{}[]:,".indexOf(e))return s++,e;if('"'==e){f="@";for(s++;s<b;)if(e=a.charAt(s)," ">e)m();else if("\\"==e)if(e=a.charAt(++s),-1<'\\"/btnfr'.indexOf(e))f+=t[e],s++;else if("u"==e){k=++s;for(h=s+4;s<h;s++)e=a.charAt(s),"0"<=e&&"9">=e||"a"<=e&&"f">=e||"A"<=e&&"F">=e||m();f+=q("0x"+a.slice(k,
s))}else m();else{if('"'==e)break;f+=e;s++}if('"'==a.charAt(s))return s++,f}else{k=s;"-"==e&&(g=c,e=a.charAt(++s));if("0"<=e&&"9">=e){for("0"==e&&(e=a.charAt(s+1),"0"<=e&&"9">=e)&&m();s<b&&(e=a.charAt(s),"0"<=e&&"9">=e);s++);if("."==a.charAt(s)){for(h=++s;h<b&&(e=a.charAt(h),"0"<=e&&"9">=e);h++);h==s&&m();s=h}e=a.charAt(s);if("e"==e||"E"==e){e=a.charAt(++s);"+"!=e&&"-"!=e||s++;for(h=s;h<b&&(e=a.charAt(h),"0"<=e&&"9">=e);h++);h==s&&m();s=h}return+a.slice(k,s)}g&&m();if("true"==a.slice(s,s+4))return s+=
4,c;if("false"==a.slice(s,s+5))return s+=5,!1;if("null"==a.slice(s,s+4))return s+=4,d}m()}return"$"},A=function(a){var d,b;"$"==a&&m();if("string"==typeof a){if("@"==a.charAt(0))return a.slice(1);if("["==a){for(d=[];;b||(b=c)){a=u();if("]"==a)break;b&&(","==a?(a=u(),"]"==a&&m()):m());","==a&&m();d.push(A(a))}return d}if("{"==a){for(d={};;b||(b=c)){a=u();if("}"==a)break;b&&(","==a?(a=u(),"}"==a&&m()):m());","!=a&&"string"==typeof a&&"@"==a.charAt(0)&&":"==u()||m();d[a.slice(1)]=A(u())}return d}m()}return a},
v=function(c,d,b){b=p(c,d,b);b===a?delete c[d]:c[d]=b},p=function(a,c,d){var b=a[c],m;if("object"==typeof b&&b)if("[object Array]"==e.call(b))for(m=b.length;m--;)v(b,m,d);else g(b,function(a){v(b,a,d)});return d.call(a,c,b)},h.parse=function(a,c){var b,f;s=0;w=a;b=A(u());"$"!=u()&&m();s=w=d;return c&&"[object Function]"==e.call(c)?p((f={},f[""]=b,f),"",c):b}));k&&define(function(){return h})})();var ma=function(){};Date.now=Date.now||function(){return+new Date};var na=Array.prototype.forEach,oa=Array.prototype.map,
p={toArray:function(b){for(var a=[],c=0;c<b.length;++c)a[c]=b[c];return a},forEach:function(b,a,c){if(na&&b.forEach===na)b.forEach(a);else for(var d=0,e=b.length;d<e&&!1!==a.call(c,b[d],d,b);++d);},map:function(b,a,c){var d=[];if(null==b)return d;if(oa&&b.map===oa)return b.map(a,c);p.forEach(b,function(b,f,g){d[d.length]=a.call(c,b,f,g)});return d},find:function(){},extend:function(b){p.forEach([].slice.call(arguments,1),function(a){if(a)for(var c in a)b[c]=a[c]});return b},isArray:Array.isArray||
function(b){return"[object Array]"=={}.toString.call(b)},debounce:function(b,a,c){var d,e;return function(){var f=this,g=arguments,k=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;c||(e=b.apply(f,g))},a);k&&(e=b.apply(f,g));return e}},tokenize:function(b,a,c){!a&&(a=",");!c&&(c=":");var d={};b=b.split(a);p.forEach(b,function(a){var b=a.split(c);a=b[0];b=b[1];a&&b&&(d[a]=b)});return d}},V=function(){function b(a){var b=document.createElement("script"),d=!1;b.src=a;b.async=!0;b.onload=b.onreadystatechange=
function(){d||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(d=!0,b.onload=b.onreadystatechange=null,b&&b.parentNode&&b.parentNode.removeChild(b))};c||(c=document.getElementsByTagName("head")[0]);c.appendChild(b)}var a=0,c,d,e,f=this,g={};return{get:function(c,h,n,y){d=-1===(c||"").indexOf("?")?"?":"&";h=h||{};for(e in h)h.hasOwnProperty(e)&&(d+=encodeURIComponent(e)+"="+encodeURIComponent(h[e])+"&");var l="json"+ ++a;f[l]=function(a){n(a);try{delete f[l]}catch(c){f[l]=
null}};b(c+d+(y||g.callbackName||"callback")+"="+l);return l},script:b,init:function(a){g=a}}}();(function(b,a,c){var d=function(a,c,b){return 1===arguments.length?d.get(a):d.set(a,c,b)};d.get=function(a){b.cookie!==d._cacheString&&d._populateCache();return d._cache[a]||""};d.defaults={path:"/"};d.set=function(a,f,g){g={path:g&&g.path||d.defaults.path,domain:g&&g.domain||d.defaults.domain,expires:g&&g.expires||d.defaults.expires,secure:g&&g.secure!==c?g.secure:d.defaults.secure};f===c&&(g.expires=
-1);switch(typeof g.expires){case "number":g.expires=new Date((new Date).getTime()+1E3*g.expires);break;case "string":g.expires=new Date(g.expires)}a=encodeURIComponent(a)+"="+(f+"").replace(/[^!#-+\--:<-[\]-~]/g,encodeURIComponent);a+=g.path?";path="+g.path:"";a+=g.domain?";domain="+g.domain:"";a+=g.expires?";expires="+g.expires.toGMTString():"";a+=g.secure?";secure":"";b.cookie=a;return d};d.expire=function(a,b){return d.set(a,c,b)};d._populateCache=function(){d._cache={};d._cacheString=b.cookie;
for(var a=d._cacheString.split("; "),f=0;f<a.length;f++){var g=a[f].indexOf("=");try{var k=decodeURIComponent(a[f].substr(0,g)),h=decodeURIComponent(a[f].substr(g+1))}catch(n){continue}d._cache[k]===c&&(d._cache[k]=h)}};d.enabled=function(){var a="1"===d.set("cookies.js","1").get("cookies.js");d.expire("cookies.js");return a}();return a.cookies=d})(document,p);w.console&&w.console.log&&K&&(H=function(){var b=Error(),b=b.stack?b.stack.split("\n")[2].replace(/^\s+/,"[eClick] log "):"";console.log(b,
arguments)});var L;T(w,function(){L=function(b,a,c){var d=pa+"/proxy.html",e=!!w.postMessage&&!!w.localStorage&&!!w.JSON,f,g=0,k=!1,h=function(a){var c="adFreCb"+ ++g;w[c]=a;return c},n=ka(function(a,b){f.postMessage(c.stringify({action:"get",key:a,callback:h(b)}),"*")}),y=ka(function(a,b){f.postMessage(c.stringify({action:"set",key:a,value:c.stringify(b)}),"*")});e&&(f=function(){N(w,"message",function(a){try{if(a.origin.match(/eclick/ig)){var b=c.parse(a.data),d=w[b.callback];"function"==typeof d&&
d(b.data)}}catch(e){console.error("exception while processing message from proxy",e)}});var a=document.createElement("iframe");a.src=d;a.id="eclick-proxy-"+Math.random().toString().split(".")[1];a.width=0;a.height=0;a.style.display="none";document.body.appendChild(a);a.onload=function(){k=!0;n.setReady();y.setReady()};return a.contentWindow}());return e?{isSupported:function(){return e},isReady:function(){return k},get:n,set:y,expireOldKey:function(a,b){f.postMessage(c.stringify({action:"expireOldKey",
prefix:a,time:b}),"*")},expireLtBanner:function(a,b){f.postMessage(c.stringify({action:"expireLtBanner",geb:a,ltk:b}),"*")},getProxy:function(){return f}}:{isSupported:function(){return!1},isReady:function(){return!1},get:function(a,c){c(null)},set:ma}}(w.postMessage,w.localStorage,w.JSON)});var qa;(function(){function b(a){return a.replace(/-([a-z])/g,function(a){return a[1].toUpperCase()})}qa=function(a,c){if(w.getComputedStyle)return w.getComputedStyle(a).getPropertyValue(c);if(document.defaultView&&
document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle.getPropertyValue(c);var d=b(c);return a.currentStyle?a.currentStyle(d):a.style[d]}})();var ba={addEventListener:N,removeEventListener:Aa,getComputedStylePropertyValue:qa,getElementsByAttribute:Ca,forEach:p.forEach,contentLoaded:T,extend:p.extend,addClass:O,removeClass:P,xhr:la},K=!1,R={},pa="http://d.eclick.vn/delivery",ra,W,ca,E,da,C,M,Z,sa,$,v,z,U,F,ta,ua,ea,va,fa,ga,X,I,x,Da,Ea,Fa,wa={}.hasOwnProperty,xa=[].slice,
Y=function(b,a){function c(){this.constructor=b}for(var d in a)wa.call(a,d)&&(b[d]=a[d]);c.prototype=a.prototype;b.prototype=new c;b.__super__=a.prototype;return b};x=w;z=document;fa=x.screen;ua=x.location;I={};w._delivery_static="http://e.eclick.vn/";C={cache:{zones:{}},widgetZones:[],balloonZones:[],sticky:[],setVisitorId:function(b){(p.cookies("fosp_gender")?p.cookies("fosp_gender"):x.localStorage.fosp_gender)||V.get("http://t.d.eclick.vn/getid",{nid:"fosp_aid"},function(a){p.cookies("fosp_gender",
a.gender,{expires:86400});return x.localStorage.setItem("fosp_gender",a.gender)});return p.cookies("fosp_aid")?b():V.get("http://t.d.eclick.vn/getid",{nid:"fosp_aid"},function(a){if(null!=a.result)return p.cookies(a.nid,a.vid,{domain:".eclick.vn"}),p.cookies("fosp_gender",a.gender,{expires:86400}),x.localStorage.setItem("fosp_gender",a.gender),b()})},getZones:function(){var b,a;a=[];if(null!=z.querySelectorAll)return b=z.querySelectorAll("[data-zone-id]"),p.forEach(b,function(c){var b;if(!c.getAttribute("data-rendered"))return b=
c.getAttribute("data-zone-id"),a.push(new ca(b,c))}),a;p.forEach(z.all,function(c){var b;if((b=c.getAttribute("data-zone-id"))&&!c.getAttribute("data-rendered"))return a.push(new ca(b,c))});return a},buildPageviewQuery:function(b,a){var c,d,e,f,g;if(e=v.getArea())if(e=JSON.parse(e),c=e.country,f=e.province,g=e.zone,""!==c||""!==f||""!==g)e=[f,g,c].join("-");c="";f=x.localStorage;f.fosp_gender?c=f.fosp_gender:p.cookies("fosp_gender")&&(c=p.cookies("fosp_gender"));e=["origin="+encodeURIComponent(location.href),
"ev=130920","ts="+Date.now(),"loc="+e,"gender="+c];for(d in a)c=a[d],e.push(""+d+"="+c);return""+b+"/pageview?"+e.join("&")},init:function(){var b,a,c,d,e,f,g,k,h,n;za("http://e.eclick.vn/delivery/asset/283054881/eclick.css");v.isBoxModel=Ba();T(x,function(a,c){});L.get("trueImp",function(a){a=(null!=a?a.trueImp:void 0)||{};if(a!=={})return I=p.extend(I,a)});n=C.widgetZones=C.getZones();if(0===n.length)k=p.cookies("fosp_aid"),H("pageviewId",ea(k)),e=""+C.pageviewId,d=function(){var a,b,d,e;d=["f",
"g","y","fpt"];e=[];a=0;for(b=d.length;a<b;a++)c=d[a],(g=p.cookies("_"+c+"_oid"))&&e.push(""+c+":"+g);return e}().join(","),Q(C.buildPageviewQuery("http://t.d.eclick.vn",{pv:e,oid:d}),function(){});else return b=[function(){var a,c,b;b=[];a=0;for(c=n.length;a<c;a++)h=n[a],b.push(h.id);return b}()],a=!1,R.debug&&(a=!0),b=["id="+b.join(","),"url="+encodeURIComponent(v.getLocation()),"area="+v.getArea(),"articleId="+v.getArticleId(),"blockedBanners=[]","maxTrueImp="+v.getMaxTrueImp(),"gender="+v.getGender(),
"debug="+a,"fosp_aid="+p.cookies("fosp_aid")],b=b.join("&"),f=""+pa+"/zone/batch.json?"+b,C.setVisitorId(function(){k=p.cookies("fosp_aid");H("pageviewId",ea(k));return V.get(f,{},function(a){var b;if(a){if(null!=a.meta&&200!==+a.meta.code)return H(a);b=[];p.forEach(n,function(c,d){var e;e=a.data[c.id];if(null!=e){b.push(e.beacon2);p.extend(c,e);if(!0===c.INVALID||c.banners.length<c.view.total)return c.usingDefaultBanner=!0,c.renderAlternative();c.banners=p.map(c.banners,function(a){a=new ra(a);a.zone=
c;return a});return c.render().bind().logImpression()}});e=""+C.pageviewId+"+"+b.join("+");d=function(){var a,b,d,e;d=["f","g","y","fpt"];e=[];a=0;for(b=d.length;a<b;a++)c=d[a],(g=p.cookies("_"+c+"_oid"))&&e.push(""+c+":"+g);return e}().join(",");return Q(C.buildPageviewQuery("http://t.d.eclick.vn",{pv:e,oid:d}),function(){})}})}),N(x,"scroll",p.debounce(function(){return p.forEach(n,function(a){if(a.isInViewPort(50))return a.logTrueImpression()})},1E3))}};$=p.debounce(C.init,100);ea=function(b){var a;
a=1E3*Date.now()+~~(1E3*Math.random());return C.pageviewId=ya(b+a+v.getLocation()).substring(0,24)};ta=function(b,a){var c;c="eclick-log-frame-"+a;return(z.getElementById(c)||sa(c)).setAttribute("src",b)};sa=function(b){var a;a=z.createElement("iframe");a.setAttribute("id",b);a.setAttribute("style","display:none");a.setAttribute("width","0");a.setAttribute("height","0");z.body.appendChild(a);return a};Z=function(b){var a;a=z.createElement("div");a.setAttribute("data-zone-id",b);return a};ga=function(b,
a,c){null!=a[0]&&(a=a[0]);C.sticky.push({id:b,container:a,params:c});var d,e,f;e=C.widgetZones;f=[];c=0;for(d=e.length;c<d;c++)a=e[c],a.id===b&&f.push(a);a=f[0];return null!=a?a.bindSticky():void 0};da=function(b){return'<object id="'+b.id+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+b.width+'" height="'+b.height+'"><param name="movie" value="'+b.fileUrl+'"><param name="allowScriptAccess" value="always" /><param name="quality" value="high"><param name="wmode" value="transparent"><param name="flashvars" value="'+
b.flashVars+'"><param name="allowfullscreen" value="true"><embed id="'+b.id+'" name="'+b.id+'" flashvars="'+b.flashVars+'" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" wmode="transparent" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+b.fileUrl+'" width="'+b.width+'" height="'+b.height+'"></object>'};v={isBoxModel:!1,framed:function(){return x.self!==x.top},resolution:function(){return""+fa.width+"x"+fa.height},getLocation:function(){return this.framed()?
z.referrer:ua.href},referrer:function(){return this.framed()?"CANNOT_ACCESS":z.referrer},hostname:function(){return this.getLocation()?this.getLocation().match(/\/[^\/:]+/)[0].substr(1):"MALFORMED_HOSTNAME"},localStorage:function(){return null!=x.localStorage},getArea:function(){var b;if(b=w.location.search.match(/(ec_ctx_area)=({.*})/g))return b[0].replace("ec_ctx_area=","");if(p.cookies("loc"))return p.cookies("loc");L.get("loc",function(a){return a.loc?p.cookies("loc",JSON.stringify(a.loc)):V.get("http://t.d.eclick.vn/targeting?loc",
{},function(a){if(a)return L.set("loc",a.loc),p.cookies("loc",JSON.stringify(a.loc))})})},getTargets:function(){var b;b={};p.cookies("fosp_aid")?b.fosp_aid=p.cookies("fosp_aid"):b.fosp_aid="";return JSON.stringify(b)},getArticleId:function(){var b;b=v.getLocation();if(null!==b.match(/vnexpress.net/)||null!==b.match(/ngoisao.net/))if(b=b.match(/(\d{7}).html/),null!==b)b=b[1],p.cookies("articleId",b,{});else return"";else return"";return b},getMaxTrueImp:function(){return 10},getBlockedBanners:function(b){return L.get("trueImp",
function(a){var c,d,e;e=a.trueImp;c=[];for(d in e)wa.call(e,d)&&(a=e[d],10<a[0]&&0===a[1]&&c.push({id:d,trueImp:a[0]}));return b(JSON.stringify(c))})},getGender:function(){var b;b=x.localStorage;if(b.fosp_gender)return b.fosp_gender;if(p.cookies("fosp_gender"))return p.cookies("fosp_gender")}};K={"widget-float":'<div class="eclick-zone eclick-zone-classic widget-float {{=zone.direction}} widget_{{=zone.color}}" style="width:{{=zone.width}}px;height:{{=zone.height}}px"> <div class="ec-zone-head" style="{{=zone.direction == \'horizontal\' ? \'height:\' + (zone.height-4) + \'px\' :\'\' }}"> <a target="_blank" href="http://eclick.vn/#!/vi/advertisers?{{= zone.utm.logo_bar }}"> <span class="ec-zone-logo"></span> {{? zone.direction == \'vertical\' && !zone.isBalloon }} <span class="buy">Mua qu\u1ea3ng c\u00e1o</span> {{?}} </a> </div> <div class="banners"> {{~zone.banners :banner:index}} <a class="{{= banner.firstRow ? \'banner firstRow\' : \'banner\'}}" data-banner-id="{{=banner.id}}" style="width:{{= zone.bannerWidth}}px;height:{{= zone.bannerHeight + banner.adjust}}px;" target="_blank" href="{{= banner.url}}"> <span class="banner-wrapper" style="margin:{{= zone.padding}}px 5px;"> <img src="{{= banner.image}}" alt="{{= banner.title}}"/> <span class="ec-banner-content"> <span class="banner-title"> {{= banner.title}} </span> <em class="banner-hostname">{{= banner.hostname}}</em> {{? banner.oldPrice && banner.oldPrice != banner.newPrice}} <del class="original">{{= banner.oldPrice}} VN\u0110</del> {{?}} <span class="promotion">{{= (banner.newPrice) ? banner.newPrice + "VN\u0110" : ""}} </span> </span> </span> <span class="banner-back-face">eClick.vn</span> </a> {{~}} </div> <div class="bottom-bar"></div> </div>',
"widget-center":'<div class="eclick-zone eclick-zone-classic widget-center {{=zone.direction}} widget_{{=zone.color}}" style="width:{{=zone.width}}px;height:{{=zone.height}}px"> <div class="ec-zone-head" style="{{=zone.direction == \'horizontal\' ? \'height:\' + (zone.height-4) + \'px\' :\'\' }}"> <a target="_blank" href="http://eclick.vn/#!/vi/advertisers?{{= zone.utm.logo_bar }}"> <span class="ec-zone-logo"></span> </a> </div> <div class="banners"> {{~zone.banners :banner:index}} <a class="{{= banner.firstRow ? \'banner firstRow\' : \'banner\'}}" data-banner-id="{{=banner.id}}" style="width:{{= zone.bannerWidth}}px;height:{{= zone.bannerHeight + banner.adjust}}px;" target="_blank" href="{{= banner.url}}"> <span class="banner-wrapper" style="margin:{{= zone.padding}}px 5px;"> <span class="banner-title"> {{= banner.title}} </span> <em class="banner-hostname">{{= banner.hostname}}</em> <img src="{{= banner.image}}" alt="{{= banner.title}}"/> {{? banner.oldPrice && banner.oldPrice != banner.newPrice}} <del class="original">{{= banner.oldPrice}} VN\u0110</del> {{?}} <span class="promotion">{{= (banner.newPrice) ? banner.newPrice + "VN\u0110" : ""}}</span> </span> <span class="banner-back-face">eClick.vn</span> </a> {{~}} </div> <div class="bottom-bar"></div> </div>',
"context-center-2":'<div class="eclick-zone eclick-zone-classic context-center-2 vertical widget_{{=zone.color}} {{= zone.width < 185 ? \'context-center-thin\' : \'\'}}" style="width:{{=zone.width}}px;height:{{=zone.height}}px"> <div class="ec-zone-head"> <a target="_blank" href="http://eclick.vn/#!/vi/advertisers?{{= zone.utm.logo_bar }}"> <span class="ec-zone-logo"></span> {{? !zone.isBalloon && zone.width >= 185}} <span class="buy">Mua qu\u1ea3ng c\u00e1o</span> {{?}} </a> </div> <div class="banners"> {{~zone.banners :banner:index}} <a class="{{= banner.firstRow ? \'banner firstRow\' : \'banner\'}}" data-banner-id="{{=banner.id}}" style="width:{{= zone.bannerWidth}}px;height:{{= zone.bannerHeight + banner.adjust}}px;" target="_blank" href="{{= banner.url}}"> <span class="banner-wrapper" style="margin:{{= zone.padding}}px 10px;"> <span class="banner-title"> {{= banner.title}} </span> <em class="banner-hostname">{{= banner.hostname}}</em> <img src="{{= banner.image}}" alt="{{= banner.title}}"/> <span class="banner-content">{{= banner.content}}</span> </span> <span class="banner-back-face">eClick.vn</span> </a> {{~}} </div> <div class="bottom-bar"></div> </div>',
"context-float-2":'<div class="eclick-zone eclick-zone-classic context-float-2 {{= zone.direction}} widget_{{=zone.color}}" style="width:{{=zone.width}}px;height:{{=zone.height}}px"> <div class="ec-zone-head"> <a target="_blank" href="http://eclick.vn/#!/vi/advertisers?{{= zone.utm.logo_bar }}"> <span class="ec-zone-logo"></span> {{? !zone.isBalloon && zone.width >= 185}} <span class="buy">Mua qu\u1ea3ng c\u00e1o</span> {{?}} </a> </div> <div class="banners"> {{~zone.banners :banner:index}} <a class="{{= banner.firstRow ? \'banner firstRow\' : \'banner\'}}" data-banner-id="{{=banner.id}}" style="width:{{= zone.bannerWidth}}px;height:{{= zone.bannerHeight + banner.adjust}}px;" target="_blank" href="{{= banner.url}}"> <span class="banner-wrapper" style="margin:{{= zone.padding}}px 10px;"> <img src="{{= banner.image}}" alt="{{= banner.title}}"/> <span class="ec-banner-content"> <span class="banner-title"> {{= banner.title}} </span> <em class="banner-hostname">{{= banner.hostname}}</em> <span class="banner-content">{{= banner.content}}</span> </span> </span> <span class="banner-back-face">eClick.vn</span> </a> {{~}} </div> <div class="bottom-bar"></div> </div>',
"context-hybrid-2":'<div class="eclick-zone eclick-zone-classic context-hybrid-2 vertical widget_{{=zone.color}}" style="width:{{=zone.width}}px;height:{{=zone.height}}px"> <div class="ec-zone-head"> <a target="_blank" href="http://eclick.vn/#!/vi/advertisers?{{= zone.utm.logo_bar }}"> <span class="ec-zone-logo"></span> {{? !zone.isBalloon}} <span class="buy">Mua qu\u1ea3ng c\u00e1o</span> {{?}} </a> </div> <div class="banners"> {{~zone.banners :banner:index}} <a class="{{= banner.firstRow ? \'banner firstRow\' : \'banner\'}}" data-banner-id="{{=banner.id}}" style="width:{{= zone.bannerWidth}}px;height:{{= zone.bannerHeight + banner.adjust}}px;" target="_blank" href="{{= banner.url}}"> <span class="banner-wrapper" style="margin:{{= zone.padding}}px 10px;"> <span class="banner-title"> {{= banner.title}} </span> <em class="banner-hostname">{{= banner.hostname}}</em> <img src="{{= banner.image}}" alt="{{= banner.title}}"/> <span class="banner-content">{{= banner.content}}</span> </span> <span class="banner-back-face">eClick.vn</span> </a> {{~}} </div> <div class="bottom-bar"></div> </div>',
metro:'<div class="eclick-zone vertical eclick-zone-metro eclick-zone-blue {{=zone.className}}"><a class="header" href="http://eclick.vn/#!/vi/advertisers?{{=zone.utm.logo_bar}}" target="_blank"><span class="logo"><i></i><abbr>ads by eClick</abbr></span></a><div class="banners">{{~zone.banners :banner:index}}{{? banner.bannerType==14}}<a class="banner-widget {{= banner.firstRow ? \'banner banner-first-row\' : \'banner\'}}" href="{{=banner.url}}" target="_blank" data-banner-id="{{=banner.id}}"><span class="banner-face banner-face-front"><img src="{{=banner.image}}" alt="{{=banner.title}}"/><span class="banner-content"><del>{{? banner.oldPrice && banner.oldPrice !=banner.newPrice}}{{=banner.oldPrice}} VN\u0110{{??}}&zwnj;{{?}}</del><ins>{{=banner.newPrice || \'0 \u0111\u1ed3ng\'}}</ins><strong>{{=banner.title}}</strong><em>{{=banner.hostname}}</em></span></span></a>{{??}}<a class="banner-context {{= banner.firstRow ? \'banner banner-first-row\' : \'banner\'}}" href="{{=banner.url}}" target="_blank" data-banner-id="{{=banner.id}}"><span class="banner-face banner-face-front"><img src="{{=banner.image}}" alt="{{=banner.title}}"/><span class="banner-content"><strong>{{=banner.title}}</strong><ins>{{=banner.content}}</ins><em>{{=banner.hostname}}</em></span></span></a>{{?}}{{~}}</div></div>',
promotion:'<div class="eclick-zone vertical eclick-zone-promotion eclick-zone-blue {{=zone.className}}"><a class=header href="http://eclick.vn/#!/vi/advertisers?{{= zone.utm.logo_bar }}" target=_blank><span class=logo><i></i><abbr>ads by eClick</abbr></span></a><div class=banners>{{~zone.banners :banner:index }} <a class="banner-promotion {{= banner.firstRow ? \'banner banner-first-row\' : \'banner\'}} {{=banner.ribbonClass }}" data-banner-id="{{=banner.id}}" href="{{=banner.url}}" target=_blank><span class="banner-face banner-face-front"><span class=eclick-banner-ribbon></span> <span class=banner-content><ins>{{= banner.percentage }}<small>%</small></ins> <strong>{{= banner.title }}</strong> <em>{{= banner.hostname }}</em></span></span></a> {{~}}</div></div>',
"mobile-web-standard":'<div class="eclick-zone vertical eclick-zone-mobile-web-standard"><a href="{{=zone.banner.destination}}" target="_blank" style="position:absolute;z-index:99;width:{{=zone.banner.image.width}}px;height:{{=zone.banner.image.height}}px"></a><img src="{{=zone.banner.image.src}}" width="{{=zone.banner.image.width}}" height="{{=zone.banner.image.height}}" /></div>',"full-banner-image":'<div class="eclick-zone eclick-full-banner eclick-full-banner-image" style="width:{{= zone.width }}px;height:{{= zone.height }}px;overflow:hidden"><a href="{{= zone.banner.url }}" title="{{= zone.banner.name }}" target="_blank"><img src="{{= zone.banner.files.main.url }}"></a></div>'};
X={};for(W in K)F=K[W],doT.templateSettings.varname="zone",X[W]=doT.template(F);ca=function(){function b(a,c){this.id=a;this.elem=c;this.trueImpression={logged:!1,time:0};this.impression={logged:!1};this.placement="widget";C.cache.zones[a]=this}b.prototype.renderAlternative=function(){var a,c,b,e,f,g,k,h,n,p,l,r,q,t;b=z.createElement("div");b.style.position="absolute";f=[{width:120,height:600},{width:160,height:600},{width:250,height:300},{width:250,height:500},{width:300,height:250},{width:300,height:300},
{width:300,height:600},{width:670,height:100},{width:728,height:100},{width:920,height:100}];c=r=this.view.width;a=e=this.view.height;this.elem.style.width=""+r+"px";this.elem.style.height=""+e+"px";this.elem.style.position="relative";this.elem.style.overflow="hidden";n=this.view.ratio=r/e;q=0;for(t=f.length;q<t;q++)p=f[q],p.width===r&&p.height===e&&(h=p);if(!h){r=0;for(h=f.length;r<h;r++)e=f[r],e.ratio=e.width/e.height;f.sort(function(a,c){a.diff=1-n/a.ratio;c.diff=1-n/c.ratio;0>a.diff&&(a.diff*=
-1);0>c.diff&&(c.diff*=-1);switch(!1){case !(a.diff>c.diff):return 1;case !(a.diff<c.diff):return-1;case a.diff!==c.diff:return 0}});h=f[0];r=h.width;e=h.height;b.style.margin=""+0.5*(a-e)+"px "+0.5*(c-r)+"px"}a=new Date;c=ja(a);k={source:"zone-"+this.id+"-"+v.hostname(),medium:"eclick_default_banner",campaign:"EC:w"+c+":m"+(a.getMonth()+1)+":y"+(a.getYear()-100)};f=function(){var a;a=[];for(g in k)l=k[g],a.push("utm_"+g+"="+l);return a}().join("&");a=["dulich","sohoa"][~~(2*Math.random())];c=v.getLocation();
f=null!==c.match(/vnexpress.net/)||null!==c.match(/ngoisao.net/)?"http://"+a+".vnexpress.net?"+f:"http://eclick.vn?"+f;this.elem.innerHTML="<a href='"+f+"' target='_blank' style='width:100%;height:100%;position:absolute;z-index:10'></a>";a=null!==c.match(/vnexpress.net/)||null!==c.match(/ngoisao.net/)?"http://st.eclick.vn/images/banner_default/vnexpress/"+a+"/"+r+"x"+e+".swf":"http://st.eclick.vn/images/banner_default/otherSite/"+r+"x"+e+".swf";F=da({fileUrl:a,width:r,height:e,flashVars:{},id:"default-banner-"+
this.id});b.innerHTML=F;b.href=a;b.className="eclick-default-banner";this.elem.appendChild(b);return this};b.prototype.render=function(){var a,c,b,e,f,g,k,h,n,p,l,r,q,t;a=new Date;e=ja(a);b=this.view;g={source:"zone-"+this.id+"-"+v.hostname(),medium:"logo_bar_cpc",campaign:"EC:w"+e+":m"+(a.getMonth()+1)+":y"+(a.getYear()-100)};b.utm={logo_bar:function(){var a;a=[];for(f in g)p=g[f],a.push("utm_"+f+"="+p);return a}().join("&")};a="vertical"===b.direction;b.banners=this.banners.slice(0,+b.total+1||
9E9);b.color=a?"blue":"yellow";b.showBuy=a&&200<=b.width;t=b.banners;e=r=0;for(q=t.length;r<q;e=++r)a=t[e],a.firstRow=e<b.col,a.adjust=e>=b.total-b.col?b.adjustedHeight:0,a.url=this.links[e];try{this.isSticky()&&(c=this.getStickyParams().container,this._container_height=c.offsetHeight)}catch(m){H(m)}this.scriptBackup&&this.percents&&(h=100*Math.random(),console.log("randomValue",h));h&&this.percents&&h<parseInt(this.percents)?(delete x.eClick,postscribe(w.document.querySelectorAll("[data-zone-id='"+
this.id+"']")[0],this.scriptBackup)):(c=X[b.layout],this.elem.innerHTML=c(b));this.rendered=!0;this.elem.setAttribute("data-rendered","true");this.renderTimestamp=Date.now();this.zoneDiv=null!=(k=null!=(n=this.elem.firstElementChild)?n:this.elem.children[0])?k:{};b=this.features;n=this.elem.style;if(null!=b.floating){a=["top","left","bottom","right"];c=0;for(h=a.length;c<h;c++)if(k=a[c],p=b.floating[k])this.floating=!0,n[k]=""+p+"px";this.floating&&(this.elem.className+=" zone-floating",n.zIndex=
"999999")}b.alternativeLogo&&(this.zoneDiv.className+=" no-logo");l=this;setTimeout(function(){if(l.isInViewPort(50))return l.logTrueImpression()},1E3);this.isSticky()&&this.bindSticky();return this};b.prototype.isInViewPort=function(a){var c;a=~~a;c=this.elem.getBoundingClientRect();F=z.documentElement;return null!=c&&c.bottom>=a&&c.right>=a&&c.top<=F.clientHeight-a&&c.left<=F.clientWidth-a};b.prototype.buildPageviewQuery=function(a,c){var b,e,f,g,k;f=new Date;b=encodeURIComponent;b=[""+a+"/l?action_name="+
b((null!=(g=z.title)?g:"Untitled Page").substring(0,255)),"h="+f.getHours(),"m="+f.getMinutes(),"s="+f.getSeconds(),"url="+b(v.getLocation()),"urlref="+b(v.referrer()),"hostname="+b(v.hostname()),"beacon="+this.beacon,"res="+v.resolution(),"zone_format="+(null!=(k={metro:2,promotion:3}[this.view.layout])?k:1)];for(e in c)g=c[e],b.push(""+e+"="+g);return b.join("&")};b.prototype.logImpression=function(){var a;if(!this.impression.logged)return a=this.impression,a.logged=!0};b.prototype.logTrueImpression=
function(){var a,b,d,e,f,g;b=Date.now();e=this.trueImpression;if(e.impressed)return this;this.zoneDiv.className+=" ecl-impressed";e.impressed=!0;e.time=b-this.renderTimestamp;a=null!=(f=R.flip)?f:this.features.flip;null!=a&&(d=0===~~Math.random()*(null!=(g=a.rate)?g:1));d&&(this.zoneDiv.className+=" flip");a=this.elem.getBoundingClientRect();a=this.buildPageviewQuery("http://t.d.eclick.vn",{rect:{top:a.top,right:a.right,height:a.height,left:a.left,right:a.right,width:a.width},t2t:e.time});Q(a,function(){return e.logged=
!0});a=this.banners;b=Date.now();p.forEach(a,function(a){var d;d=a.id;if(-1===d.indexOf("artId")){if(null!=I[d]){if(6048E5<b-I[d][2])return delete I[d];a.trueImpressCount=++I[d][0];a.clickCount=I[d][1];return I[d][2]=b}I[d]=[1,0,b];a.trueImpressCount=1;return a.clickCount=0}});L.set("trueImp",I);return this};b.prototype.getBannerElems=function(){var a,b;a=this.elem;b=function(a){var b;a=a.getElementsByTagName("a");b=[];p.forEach(a,function(a){var c;c=String(a.className||a.getAttribute("class"));if(/(^|\s)banner(\s|$)/.test(c))return b.push(a)});
return b};return("function"===typeof a.querySelectorAll?a.querySelectorAll(".banner"):void 0)||("function"===typeof a.getElementsByClassName?a.getElementsByClassName("banner"):void 0)||b(a)};b.prototype.bind=function(){var a;a={};p.forEach(this.banners,function(b){return a[b.id]=b});p.forEach(this.getBannerElems(),function(b){var d;d=b.getAttribute("data-banner-id");return a[d].bind(b)});return this};b.prototype.isSticky=function(){return null!=this.getStickyParams()};b.prototype.getStickyParams=
function(){var a;a=this;p.forEach(C.sticky,function(b){if(a.id===b.id)return a.sticky=b});return this.sticky};b.prototype.bindSticky=function(){var a,b,d,e,f,g,k;e=this.getStickyParams();f=e.params;a=e.container;g=this.elem.style;if(null!=this._sticky)return this;e=this._container_height=a.offsetHeight;g.position="absolute";if(e!==a.offsetHeight)return this._container_height=a.offsetHeight,g.position="static",this;null==f&&(f={top:5,bottom:5});null==f.top&&(f.top=5);null==f.bottom&&(f.bottom=5);b=
this.elem;d=ha(b).top-f.top;k=g.top;O(this.zoneDiv,"eclick-stick-zone");e=function(){var e,n;e=ia().top;n=ha(a).top+a.offsetHeight-b.offsetHeight;if(e<=d)return P(b,"eclick-sticky-active"),P(b,"eclick-sticky-overactive"),g.position="relative",g.top=k;if(e<=n)return O(b,"eclick-sticky-active"),P(b,"eclick-sticky-overactive"),g.position="fixed",g.top=""+f.top+"px";P(b,"eclick-sticky-active");O(b,"eclick-sticky-overactive");g.position="fixed";return g.top=""+(n-e)+"px"};N(x,"scroll",e);e();return this._sticky=
!0};return b}();ra=function(){function b(a){var c;if(this===x)return new b(a);p.extend(this,a);this.click={logged:!1};this.hostname=null!=(c=this.hostname)?c.replace(/^(https?:\/\/)?(www\.)?/i,""):void 0;17===+this.bannerType&&null!=this.ribbonType&&(this.ribbonClass="banner-promotion-"+this.ribbonType)}b.prototype.bind=function(a){var b;b=this;N(a,"click",function(){if(!b.click.clicked)return a.className+=" clicked",b.click.clicked=!0,b.logClick()});return b};b.prototype.buildClickQuery=function(a){var b,
d,e,f,g,k,h;f=Date.now();d=encodeURIComponent;if(e=v.getArea())if(e=JSON.parse(e),b=e.country,g=e.province,k=e.zone,""!==b||""!==g||""!==k)e=[g,k,b].join("-");b="";g=x.localStorage;g.fosp_gender?b=g.fosp_gender:p.cookies("fosp_gender")&&(b=p.cookies("fosp_gender"));d=["link="+d(this.url),"ts="+f,"url="+d(v.getLocation()),"urlref="+d(v.referrer()),"hostname="+d(v.hostname()),"beacon="+this.zone.beacon,"t2c="+(f-this.zone.renderTimestamp),"t2t="+this.zone.trueImpression.time,"res="+v.resolution(),"zone_format="+
(null!=(h={metro:2,promotion:3}[this.zone.view.layout])?h:1),"loc="+e,"gender="+b];v.localStorage()&&d.push("freq="+this.trueImpressCount+":"+(this.clickCount||1));return a+"/l?"+d.join("&")};b.prototype.logClick=function(){var a;a=this;if(-1===a.id.indexOf("artId")){if(this.click.logged)return this;L.get("trueImp",function(b){b=b.trueImp;a.clickCount=++b[a.id][1];return L.set("trueImp",b)});return Q(this.buildClickQuery("http://c.d.eclick.vn"),function(){return a.click.logged=!0})}};return b}();
va={1:[1,"BottomUp",0,0],2:[2,"Balloon",0,0],3:[3,"Preroll",0,0],4:[4,"Leaderboard",720,90],5:[5,"LargeLogo",300,250],6:[6,"Video",460,360],7:[7,"Mobile",300,50],6:[6,"FullBanner",300,250]};M=function(b,a){null==M.zones&&(M.zones=[]);return M.zones.push([!1,b,a])};W=function(){function b(){this.map={}}b.prototype.on=function(a,b){return(this.map[a]=this.map[a]||[]).push(b)};b.prototype.emit=function(){var a,b,d,e,f,g;a=arguments[0];d=2<=arguments.length?xa.call(arguments,1):[];if(a=this.map[a]){g=
[];e=0;for(f=a.length;e<f;e++)b=a[e],g.push(b.apply(null,d));return g}};b.prototype.off=function(a,b){var d,e;d=this.map[a];if(0!==(null!=d?d.length:void 0))return b||delete this.map[a],e=d.indexOf(b),d.splice(e,1)};return b}();E=function(){function b(a,b){this.id=a;this.elem=b;if(!this.id)throw Error("Zone without and id");if(!this.elem)throw Error("HTML element for zone "+this.id+" not found");C.cache.zones[this.id]=this;H("Zone constructor",arguments);this.timestamps={};this.dataUrl="http://cpm.d.eclick.vn?url="+
v.getLocation()+"&zoneId="+this.id}b.prototype.buildLogQuery=function(a,b,d){var e;null==d&&(d={});b="click"===b;a=[""+a+"/cpm/"+(b?"c":"i")+"?ts="+Date.now()+"&ev=130606","&url="+v.getLocation()+"&beacon="+this.log[1],"&placement="+this.banner.placement,"&res="+v.resolution(),"&t2t="+(this.timestamps.trueImpression-this.timestamps.rendered)];b&&a.push("&click_beacon="+this.log[0]);b&&a.push("&t2c="+(this.timestamps.clicked-this.timestamps.rendered));for(e in d)b=d[e],a.push("&"+e+"="+b);return a.join("")};
b.prototype.isInViewPort=function(a){var b;null==a&&(a=50);a=~~a;b=this.elem.getBoundingClientRect();F=z.documentElement;return null!=b&&b.bottom>=a&&b.right>=a&&b.top<=F.clientHeight-a&&b.left<=F.clientWidth-a};b.prototype.bind=function(){var a,b;a=this.elem;b=this;return N(a,"click",function(){return b.logClick()})};b.prototype.logClick=function(){var a,b;b=this;if(void 0===this.timestamps.clicked&&this.isInViewPort())return this.timestamps.clicked=Date.now(),a=this.buildLogQuery("http://t.d.eclick.vn",
"click"),Q(a,function(){return U.emit("clicked",{zone:b})})};b.prototype.logTrueImpression=function(){var a,b,d;d=this;a=this.banner;if(void 0===this.timestamps.trueImpression&&this.isInViewPort()&&(this.timestamps.trueImpression=Date.now(),b=this.buildLogQuery("http://t.d.eclick.vn","impression"),Q(b,function(){return U.emit("impressed",{zone:d})}),a.thirdPartyTracking.trueImpressions))return Q(a.thirdPartyTracking.trueImpressions,function(){})};b.prototype.render=function(){var a;a=this;F=X["full-banner-image"](a);
this.elem.innerHTML=F;this.bind();this.timestamps.rendered=Date.now();setTimeout(function(){return a.logTrueImpression()},1E3);return this};return b}();E.Leaderboard=function(b){function a(){return Da=a.__super__.constructor.apply(this,arguments)}Y(a,b);return a}(E);E.Mobile=function(b){function a(){return Ea=a.__super__.constructor.apply(this,arguments)}Y(a,b);return a}(E);E.LargeLogo=function(b){function a(){return Fa=a.__super__.constructor.apply(this,arguments)}Y(a,b);return a}(E);E.Balloon=function(b){function a(b){this.id=
b;b=z.createElement("div");b.className="eclick-zone-balloon";b.style.position="fixed";b.style.zIndex=99999;b.style.bottom=0;b.style.right=0;z.body.appendChild(b);a.__super__.constructor.call(this,this.id,b);this.expandDuration=15050;this.trueImpressionDuration=1E3;this.trueImpressionTimeout=this.expandedTimeout=null;this.impressions={log:!1,secondsOnExpand:0,secondsOnHover:0};this.clicks={log:!1};this.timestamps={init:Date.now()}}Y(a,b);a.prototype.expand=function(){var a,b,e,f,g,k,h,n;H("expanded");
a=this.elem;f=this;this.collapsed=!1;P(a,"eclick-collapsed");O(a,"eclick-expanded");b=null!=(e=this.banner)?e.files.main:void 0;null!=b&&(e=null!=(g=null!=(k=b.dimensions)?k.width:void 0)?g:300,b=null!=(h=null!=(n=b.dimensions)?n.height:void 0)?h:300,a.style.clip="rect(0px "+e+"px "+b+"px 0px)");clearTimeout(this.expandedTimeout);this.expandedTimeout=setTimeout(function(){return f.collapse()},this.expandDuration);clearTimeout(this.trueImpressionTimeout);if(!this.log)return this;this.trueImpressionTimeout=
setTimeout(function(){return f.logTrueImpression()},this.trueImpressionDuration)};a.prototype.collapse=function(){var a,b,e,f,g,k,h;H("collapsed");a=this.elem;this.collapsed=!0;P(a,"eclick-collapsed");O(a,"eclick-expanded");b=null!=(e=this.banner)?e.files.main:void 0;null!=b&&(e=null!=(f=null!=(g=b.dimensions)?g.width:void 0)?f:300,b=null!=(k=null!=(h=b.dimensions)?h.height:void 0)?k:300,a.style.clip="rect("+(b-30)+"px "+e+"px "+b+"px 0px)");clearTimeout(this.expandedTimeout);clearTimeout(this.trueImpressionTimeout)};
a.prototype.close=function(){this.collapsed=this.closed=!0;this.elem.style.display="none";O(this.elem,"elick-closed");clearTimeout(this.expandedTimeout)};a.prototype.click=function(){H("clicked");this.logClick()};a.prototype.render=function(){var a,b,e,f,g;b="eClick.getZone("+this.id+")";e=["eClick_event_clicked="+b+".click","eClick_event_expanded="+b+".expand","eClick_event_collapsed="+b+".collapse","eClick_event_closed="+b+".close"].join("&");g=this;b=this.elem;a=g.banner;f=a.files.main;null==f.dimensions&&
(f.dimensions={width:300,height:300});a=""+f.url+"?clickTAG="+encodeURIComponent(a.url);e=da({id:"eclick-zone-"+g.id,width:""+f.dimensions.width,height:""+f.dimensions.height,fileUrl:a,flashVars:e});b.innerHTML=e;b.style.width=f.dimensions.width;b.style.height=f.dimensions.height;g.timestamps.rendered=Date.now();g.trueImpressionTimeout=setTimeout(function(){return g.logTrueImpression()},g.trueImpressionDuration);return this};return a}(E);E.FullBanner=function(b){function a(b){this.id=b;b=z.createElement("div");
b.setAttribute("class","eclick-zone-"+this.id);z.body.appendChild(b);a.__super__.constructor.call(this,this.id,b);this.expandDuration=15050;this.trueImpressionDuration=1E3;this.trueImpressionTimeout=this.expandedTimeout=null;this.impressions={log:!1,secondsOnExpand:0,secondsOnHover:0};this.clicks={log:!1};this.timestamps={init:Date.now()}}Y(a,b);a.prototype.click=function(){H("clicked");this.logClick()};a.prototype.render=function(){var a,b,e,f,g,k;f=this.elem;k=this;g=k.banner.files.main;a=z.createElement("a");
a.setAttribute("data-banner-id",""+k.banner.id);a.setAttribute("href",""+k.banner.url);a.setAttribute("title",""+k.banner.name);a.setAttribute("target","_blank");e=z.createElement("img");e.setAttribute("src",""+k.banner.files.main.url);b=z.createElement("div");b.setAttribute("class","eclick-zone eclick-full-banner eclick-full-banner-image");b.setAttribute("style","width:"+k.width+"px; height:"+k.height+"px; overflow:hidden");a.appendChild(e);b.appendChild(a);f.appendChild(b);f.setAttribute("width",
""+g.dimensions.width+"px");f.setAttribute("height",""+g.dimensions.height+"px");k.timestamps.rendered=Date.now();k.trueImpressionTimeout=setTimeout(function(){return k.logTrueImpression()},k.trueImpressionDuration);return this};return a}(E);T(x,$);T(x,function(){var b,a,c,d;if(M.zones)return c=function(){var b,c,d,k;d=M.zones;k=[];b=0;for(c=d.length;b<c;b++)a=d[b],a[0]||k.push(a);return k}(),b=function(){var b,d,g;g=[];b=0;for(d=c.length;b<d;b++)a=c[b],g.push(a[1]);return g}(),d="http://cpm.d.eclick.vn/batch?url="+
v.getLocation()+"&zoneId="+b.join(","),V.get(d,{},function(d){var f,g,k,h,n,y,l;if(200===(null!=d?null!=(k=d.meta)?k.code:void 0:void 0)){d=d.data;l=[];n=0;for(y=c.length;n<y;n++){a=c[n];b=a[1];f=a[2];if(!(h=d[b]))break;k=va[h.banner.placement];g=E[k[1]]||E;a[0]=!0;f=new g(b,f);f.width=k[2];f.height=k[3];p.extend(f,h);l.push(f.render().logTrueImpression())}return l}})});K=function(){var b,a;b=arguments[0];a=2<=arguments.length?xa.call(arguments,1):[];switch(b){case "zone":return M.apply(null,a)}};
U=x.eClick=K;p.extend(K,{version:283054881,appendTo:function(b,a){var c;c=Z(a);b.appendChild(c);$();return c},prependTo:function(b,a){var c;c=Z(a);b.insertBefore(c,b.firstChild);$();return c},stickyTo:ga,preview:function(b,a){var c,d,e;e={row:1,col:1,total:1,utm:{logo_bar:"utm_source=zone-preview&utm_medium=logo_bar_cpc&utm_campaign=EC:preview"},banners:[b]};c=p.extend({format:"classic"},a);b.forstRow=!0;b.id=b.id||"preview";null!=b.hostname&&(b.hostname=b.hostname.replace(/^(https?:\/\/)?(www\.)?/i,
""));17===b.bannerType&&(c.format="promotion",null!=b.ribbonType&&(b.ribbonClass="banner-promotion-"+b.ribbonType));c.format.match(/^metro|promotion$/g)?(e.layout=c.format,e.width=e.height=150,e.className=e.layout+"-1-1"):(e.layout=14===b.bannerType?"widget-float":"context-float-2",e.direction="horizontal",e.color="yellow",e.width=c.width||300,e.height=c.height||110,e.padding=10,b.adjust=e.adjustedHeight=0,e.actualSize={width:e.width-18,height:e.height-1},e.bannerWidth=e.width-18,e.bannerHeight=e.height-
1);d=X[e.layout];c=Z(b.id);c.innerHTML=d(e);c.setAttribute("data-rendered","true");return c},getZone:function(b){return C.cache.zones[b]},balloon:function(b){return M(b)},util:"undefined"!==typeof ba&&null!==ba?ba:{}},new W);x.jQuery&&(jQuery.fn.eClickSticky=function(b,a){return ga(b,this,a)});(function(b,a){var c=p.cookies.get("_econvk");(function(){for(var d="",e,f=/\+/g,g=/([^&;=]+)=?([^&;]*)/g,k=b.location.hash.substring(1),h=function(a,b,c){(new Image).src="http://c.d.eclick.vn/cpa/tracking?click_id="+
a+"&ref="+b+"&url="+c+"&t="+Date.now()};e=g.exec(k);)if("_econvk"==decodeURIComponent(e[1].replace(f," "))){d=decodeURIComponent(e[2].replace(f," "));break}d&&(b.location.hash=b.location.hash.replace("_econvk="+d,""));e=encodeURIComponent(b.location.href);f=encodeURIComponent(a.referrer);d?(c&&c==d?c==d&&p.cookies.set("_econvv",p.cookies.get("_econvv")+e+"|"):(p.cookies.set("_econvk",d),p.cookies.set("_econvv",e+"|"),f&&p.cookies.set("_econvr",f+"|")),h(d,f,e)):c&&-1<p.cookies.get("_econvv").indexOf(f)&&
(p.cookies.set("_econvv",p.cookies.get("_econvv")+e+"|"),h(c,f,e))})();N(a,"click",function(a){for(a=a.target||a.srcElement;a&&"BODY"!=a.tagName;){if("A"==a.tagName&&-1<a.className.indexOf("banner")){if(!a.getAttribute("data-econv")){var b=a.href.split("/"),c;c=b[4];var b=b[5],g=Math.max((c+"").length,(b+"").length);c=Number("1"+(Math.random()+"").split(".")[1].substr(-6)+(1E15+c+"").slice(-g)+(1E15+b+"").slice(-g)).toString(16);a.href+=-1<a.href.indexOf("#")?"&_econvk="+c:"#_econvk="+c;a.setAttribute("data-econv",
1)}break}a=a.parentElement}})})(w,document);(function(b,a,c){if(!b[c]){var d=[];b[c]={ready:function(a){"function"==typeof a&&d.push(a)},isReady:function(){return!1}};T(b,function(){var e={};b[c]=b[c]||{};p.extend(b[c],{ready:function(a){a()},isReady:function(){return!0},getAd:function(){var c=!1;return function(d,e,h){c||(c=!0);(new la("http://cpm.d.eclick.vn/ar",function(b){if("function"==typeof h)h(b);else{var c=a[e];c&&"function"==typeof c[h]&&c[h](b)}})).send({zone_id:d,url:b.location.href,fd:"",
fh:"",fl:""})}}(),trackAd:function(a,b,c,d){(new Image).src=a;"start"!=d||e[b]||(e[b]=1);ta("http://e.eclick.vn/delivery/asset/283054881/ga.html?actionType=video:"+d+"&bannerId="+b+"&zone="+c,"eClick-"+c)}});p.forEach(d,function(a){a()})})}})(w,document,"ECLIMA");w.chrome&&(R=function(b){b=b.substring(1).split("&");var a={};p.forEach(b,function(b){b=b.split("=");if(b[0].match(/^ec_/)){if("true"===b[1]||"false"===b[1])b[1]="true"===b[1];a[b[0].substring(3)]=b[1]}});return a}(w.location.search),console.log("debugParams",
R),(K=!0===R.debug)&&R.ctx_url&&(v.getLocation=function(){return decodeURIComponent(R.ctx_url)}));(function(){function b(a){return a!==h&&null!==a}function a(){}function c(a,b,c){var d,e=a&&a.length||0;for(d=0;d<e;d++)b.call(c,a[d],d)}function d(a,b,c){for(var d in a)a.hasOwnProperty(d)&&b.call(c,d,a[d])}function e(a,b){d(b,function(b,c){a[b]=c});return a}function f(a,c){a=a||{};d(c,function(c,d){b(a[c])||(a[c]=d)});return a}function g(a){try{return n.call(a)}catch(b){var d=[];c(a,function(a){d.push(a)});
return d}}var k=this,h=void 0;if(!k.postscribe){var n=Array.prototype.slice,p=function(){function a(c,d,e){var f=h+d;if(2===arguments.length)return f=c.getAttribute(f),b(f)?String(f):f;b(e)&&""!==e?c.setAttribute(f,e):c.removeAttribute(f)}function f(b,c){var d=b.ownerDocument;e(this,{root:b,options:c,win:d.defaultView||d.parentWindow,doc:d,parser:k.htmlParser("",{autoFix:!0}),actuals:[b],proxyHistory:"",proxyRoot:d.createElement(b.nodeName),scriptStack:[],writeQueue:[]});a(this.proxyRoot,"proxyof",
0)}var h="data-ps-";f.prototype.write=function(){[].push.apply(this.writeQueue,arguments);for(var a;!this.deferredRemote&&this.writeQueue.length;)a=this.writeQueue.shift(),"function"===typeof a?this.callFunction(a):this.writeImpl(a)};f.prototype.callFunction=function(a){var b={type:"function",value:a.name||a.toString()};this.onScriptStart(b);a.call(this.win,this.doc);this.onScriptDone(b)};f.prototype.writeImpl=function(a){this.parser.append(a);var b;a=[];for(var c,d;(b=this.parser.readToken())&&!(c=
b&&"tagName"in b?!!~b.tagName.toLowerCase().indexOf("script"):!1)&&!(d=b&&"tagName"in b?!!~b.tagName.toLowerCase().indexOf("style"):!1);)a.push(b);this.writeStaticTokens(a);c&&this.handleScriptToken(b);d&&this.handleStyleToken(b)};f.prototype.writeStaticTokens=function(a){a=this.buildChunk(a);if(a.actual)return a.html=this.proxyHistory+a.actual,this.proxyHistory+=a.proxy,this.proxyRoot.innerHTML=a.html,this.walkChunk(),a};f.prototype.buildChunk=function(a){var b=this.actuals.length,d=[],e=[],f=[];
c(a,function(a){d.push(a.text);if(a.attrs){if(!/^noscript$/i.test(a.tagName)){var c=b++;e.push(a.text.replace(/(\/?>)/," "+h+"id="+c+" $1"));"ps-script"!==a.attrs.id&&"ps-style"!==a.attrs.id&&f.push("atomicTag"===a.type?"":"<"+a.tagName+" "+h+"proxyof="+c+(a.unary?" />":">"))}}else e.push(a.text),f.push("endTag"===a.type?a.text:"")});return{tokens:a,raw:d.join(""),actual:e.join(""),proxy:f.join("")}};f.prototype.walkChunk=function(){for(var c,d=[this.proxyRoot];b(c=d.shift());){var e=1===c.nodeType;
e&&a(c,"proxyof")||(e&&(this.actuals[a(c,"id")]=c,a(c,"id",null)),(e=c.parentNode&&a(c.parentNode,"proxyof"))&&this.actuals[e].appendChild(c));d.unshift.apply(d,g(c.childNodes))}};f.prototype.handleScriptToken=function(a){var b=this.parser.clear();b&&this.writeQueue.unshift(b);a.src=a.attrs.src||a.attrs.SRC;if(a.src&&this.scriptStack.length)this.deferredRemote=a;else this.onScriptStart(a);var c=this;this.writeScriptToken(a,function(){c.onScriptDone(a)})};f.prototype.handleStyleToken=function(a){var b=
this.parser.clear();b&&this.writeQueue.unshift(b);a.type=a.attrs.type||a.attrs.TYPE||"text/css";this.writeStyleToken(a);b&&this.write()};f.prototype.writeStyleToken=function(a){var b=this.buildStyle(a);this.insertStyle(b);a.content&&(b.styleSheet&&!b.sheet?b.styleSheet.cssText=a.content:b.appendChild(this.doc.createTextNode(a.content)))};f.prototype.buildStyle=function(a){var b=this.doc.createElement(a.tagName);b.setAttribute("type",a.type);d(a.attrs,function(a,c){b.setAttribute(a,c)});return b};
f.prototype.insertStyle=function(a){this.writeImpl('<span id="ps-style"/>');var b=this.doc.getElementById("ps-style");b.parentNode.replaceChild(a,b)};f.prototype.onScriptStart=function(a){a.outerWrites=this.writeQueue;this.writeQueue=[];this.scriptStack.unshift(a)};f.prototype.onScriptDone=function(a){a!==this.scriptStack[0]?this.options.error({message:"Bad script nesting or script finished twice"}):(this.scriptStack.shift(),this.write.apply(this,a.outerWrites),!this.scriptStack.length&&this.deferredRemote&&
(this.onScriptStart(this.deferredRemote),this.deferredRemote=null))};f.prototype.writeScriptToken=function(a,b){var c=this.buildScript(a),d=this.shouldRelease(c),e=this.options.afterAsync;a.src&&(c.src=a.src,this.scriptLoadHandler(c,d?e:function(){b();e()}));try{this.insertScript(c),a.src&&!d||b()}catch(f){this.options.error(f),b()}};f.prototype.buildScript=function(a){var b=this.doc.createElement(a.tagName);d(a.attrs,function(a,c){b.setAttribute(a,c)});a.content&&(b.text=a.content);return b};f.prototype.insertScript=
function(a){this.writeImpl('<span id="ps-script"/>');var b=this.doc.getElementById("ps-script");b.parentNode.replaceChild(a,b)};f.prototype.scriptLoadHandler=function(a,b){function c(){a=a.onload=a.onreadystatechange=a.onerror=null}var d=this.options.error;e(a,{onload:function(){c();b()},onreadystatechange:function(){/^(loaded|complete)$/.test(a.readyState)&&(c(),b())},onerror:function(){var e={message:"remote script failed "+a.src};c();d(e);b()}})};f.prototype.shouldRelease=function(a){return!/^script$/i.test(a.nodeName)||
!!(this.options.releaseAsync&&a.src&&a.hasAttribute("async"))};return f}(),l=function(){function b(){var a=n.shift();a&&(a.stream=c.apply(null,a))}function c(f,k,n){function q(a){a=n.beforeWrite(a);l.write(a);n.afterWrite(a)}l=new p(f,n);l.id=h++;l.name=n.name||l.id;d.streams[l.name]=l;var u=f.ownerDocument,v={close:u.close,open:u.open,write:u.write,writeln:u.writeln};e(u,{close:a,open:a,write:function(){return q(g(arguments).join(""))},writeln:function(){return q(g(arguments).join("")+"\n")}});var w=
l.win.onerror||a;l.win.onerror=function(a,b,c){n.error({msg:a+" - "+b+":"+c});w.apply(l.win,arguments)};l.write(k,function(){e(u,v);l.win.onerror=w;n.done();l=null;b()});return l}function d(c,e,h){"function"===typeof h&&(h={done:h});h=f(h,{releaseAsync:!1,afterAsync:a,done:a,error:function(a){throw a;},beforeWrite:function(a){return a},afterWrite:a});c=/^#/.test(c)?k.document.getElementById(c.substr(1)):c.jquery?c[0]:c;var g=[c,e,h];c.postscribe={cancel:function(){g.stream?g.stream.abort():g[1]=a}};
n.push(g);l||b();return c.postscribe}var h=0,n=[],l=null;return e(d,{streams:{},queue:n,WriteStream:p})}();k.postscribe=l}})();(function(){function b(b,h){b=b||"";h=h||{};for(var g in a)a.hasOwnProperty(g)&&(h.autoFix&&(h["fix_"+g]=!0),h.fix=h.fix||h["fix_"+g]);var p=function(a){return"string"===typeof a?a.replace(/(&#\d{1,4};)/gm,function(a){a=a.substring(2,a.length-1);return String.fromCharCode(a)}):a},l={comment:/^\x3c!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,
startTag:/^</,chars:/^[^<]/},r={comment:function(){var a=b.indexOf("--\x3e");if(0<=a)return{content:b.substr(4,a),length:a+3}},endTag:function(){var a=b.match(d);if(a)return{tagName:a[1],length:a[0].length}},atomicTag:function(){var a=r.startTag();if(a){var c=b.slice(a.length);if(c.match(new RegExp("</\\s*"+a.tagName+"\\s*>","i"))&&(c=c.match(new RegExp("([\\s\\S]*?)</\\s*"+a.tagName+"\\s*>","i"))))return{tagName:a.tagName,attrs:a.attrs,content:c[1],length:c[0].length+a.length}}},startTag:function(){var a=
b.match(c);if(a){var d={};a[2].replace(e,function(a,b,c,e,h){a=c||e||h||f.test(b)&&b||null;d[b]=p(a)});return{tagName:a[1],attrs:d,unary:!!a[3],length:a[0].length}}},chars:function(){var a=b.indexOf("<");return{length:0<=a?a:b.length}}},q=function(){for(var a in l)if(l[a].test(b)){var c=r[a]();return c?(c.type=c.type||a,c.text=b.substr(0,c.length),b=b.slice(c.length),c):null}};h.fix&&function(){var a=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,c=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i,
d=[];d.last=function(){return this[this.length-1]};d.lastTagNameEq=function(a){var b=this.last();return b&&b.tagName&&b.tagName.toUpperCase()===a.toUpperCase()};d.containsTagName=function(a){for(var b=0,c;c=this[b];b++)if(c.tagName===a)return!0;return!1};var e=function(b){b&&"startTag"===b.type&&(b.unary=a.test(b.tagName)||b.unary);return b},f=q,g=function(){b="</"+d.pop().tagName+">"+b},n={startTag:function(a){var e=a.tagName;"TR"===e.toUpperCase()&&d.lastTagNameEq("TABLE")?(b="<TBODY>"+b,l()):h.fix_selfClose&&
c.test(e)&&d.containsTagName(e)?d.lastTagNameEq(e)?g():(b="</"+a.tagName+">"+b,l()):a.unary||d.push(a)},endTag:function(a){d.last()?h.fix_tagSoup&&!d.lastTagNameEq(a.tagName)?g():d.pop():h.fix_tagSoup&&(f(),l())}},l=function(){var a=b,c=e(f());b=a;if(c&&n[c.type])n[c.type](c)};q=function(){l();return e(f())}}();return{append:function(a){b+=a},readToken:q,readTokens:function(a){for(var b;(b=q())&&(!a[b.type]||!1!==a[b.type](b)););},clear:function(){var a=b;b="";return a},rest:function(){return b},
stack:[]}}var a=function(){var a={},b=this.document.createElement("div");b.innerHTML="<P><I></P></I>";a.tagSoup="<P><I></P></I>"!==b.innerHTML;b.innerHTML="<P><i><P></P></i></P>";a.selfClose=2===b.childNodes.length;return a}(),c=/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,d=/^<\/([\-A-Za-z0-9_]+)[^>]*>/,e=/([\-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,f=/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i;
b.supports=a;b.tokenToString=function(a){var b={comment:function(a){return"<--"+a.content+"--\x3e"},endTag:function(a){return"</"+a.tagName+">"},atomicTag:function(a){console.log(a);return b.startTag(a)+a.content+b.endTag(a)},startTag:function(a){var b="<"+a.tagName,c;for(c in a.attrs)var d=a.attrs[c],b=b+(" "+c+'="'+(d?d.replace(/(^|[^\\])"/g,'$1\\"'):"")+'"');return b+(a.unary?"/>":">")},chars:function(a){return a.text}};return b[a.type](a)};b.escapeAttributes=function(a){var b={},c;for(c in a){var d=
a[c];b[c]=d&&d.replace(/(^|[^\\])"/g,'$1\\"')}return b};for(var g in a)b.browserHasFlaw=b.browserHasFlaw||!a[g]&&g;this.htmlParser=b})()}})(window);
